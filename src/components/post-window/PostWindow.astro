---
import './PostWindow.scss';
import type {PostWindowProps} from "../../env";

const { post, bigWindow }: {
  post: PostWindowProps,
  bigWindow?: boolean
} = Astro.props

const isBigWindow = bigWindow || false

if (!post) {
  throw new Error('PostWindow: post is undefined')
}
---
<div class="window">
  <div class="window__header">
    <span class="window__header-title">{post.lastPublishOrUpdate}</span>
    <span class="window__header-title"><slot name="title"/></span>
    <div class="dot"></div>
    <div class="dot"></div>
    <div class="dot"></div>
  </div>
  <div class="window__image-container">
    <img class="window__image" loading="lazy" src={post.image} alt={post.imageAlt}>
  </div>
  {!isBigWindow && (
    <h2 class="window__title">{post.titel}</h2>
    <p class="window__excerpt">{post.excerpt}</p>
    <div class="window__footer">
      Weiterlesen âž”
    </div>
  )}
  <div>
    <slot />
  </div>
  <div class="window__category">
    Aus
    <a href={post.categoryLink} class="window__category-link">{post.category}</a>
  </div>
</div>
